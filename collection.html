<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>

<body>
    <section class="grid-container">
        <div class="header_box"></div>
        <div id="mySidenav" class="sidenav">
            <button href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</button>
            <a class="nav_links" href="index.html">Frontpage</a>
            <a class="nav_links" href="collections.html">Collections</a>
            <a class="nav_links" href="news.html">Latest News</a>
            <a class="nav_links" href="http://nicholasnybro.tictail.com/products/" target="_blank">Go to shop</a>
            <a class="nav_links" href="about.html">About</a>
        </div>

        <div>
            <button id="openbtn" onclick="openNav()"><a id="btn_a"><i class="fa fa-bars"></i></a></button>
        </div>

        <div>
            <button id="shopbtn"><a href="http://nicholasnybro.tictail.com/products/icons" target="_blank" id="btn_a"><i class="fa fa-shopping-cart"></i></a></button>
        </div>
        <div id="move_logo" class="container container_logo">
            <div onclick="logoHref()" class="logo page_logo"></div>
        </div>
        <div class="collection_grid grid-container">

            <h2 data-collectionname>THE BODY</h2>
            <b class="headline">The SS18 collection is all about the human body.</b>
            <p data-collectiontext>
                <br> With this collection, Nicholas Nybro, wants to discuss the Fashion Industry's look on body ideals and show the beauty of all shapes...
                <br>
                Lorem ipsum dolor sit amet, consectetur adipisicing elit. Culpa porro, nulla quidem delectus quaerat officia labore corporis commodi magnam ex nisi, voluptas dolorum earum temporibus eius esse praesentium voluptate molestiae. Lorem ipsum dolor sit amet, consectetur adipisicing elit. Minus fugit molestiae aliquid rem adipisci ducimus laudantium ipsa? Iste voluptatem ullam accusantium, repellat vitae est sunt ratione ducimus, doloremque incidunt nihil!
            </p>
            <section data-container>
            </section>
        </div>
    </section>


    <template data-template>
<article>
    <div class="img_container"><img src="" alt="-" data-billede data-button-img></div>
</article>
   </template>


    <script>
        let jSonUrl = "http://benjaminbonnichsen.dk/eksamensprojekt/wordpress/wp-json/wp/v2/ss18?per_page=50";
        let display = document.querySelector("[data-templatedisplay]");
        let template = document.querySelector("[data-template]");
        let collections = [];


        document.addEventListener("DOMContentLoaded", hentJson);

        async function hentJson() {
            let dataJson = await fetch(jSonUrl);
            collections = await dataJson.json();
            console.log("Stop making fetch happen Gretchen!");
            visCollections();
        };


        function visCollections() {
            collections.forEach(collection => {
                console.log(collection);
                let templateModtager = document.querySelector("[data-container]");
                let klon = template.cloneNode(true).content;
                klon.querySelector("[data-billede]").src = collection.acf.ss18;
                templateModtager.appendChild(klon);
                console.log("The Klon War is over!")
            });
        }

        function logoHref() {
            document.querySelector(".frontpage_logo").addEventListener("click", () => {
                location.href = "index.html";
            });
        };

        $("#openbtn").click(function() {
            setTimeout(function() {
                $(".nav_links").css("visibility", "visible");
            }, 300)
        });

        $(".closebtn").click(function() {
            setTimeout(function() {
                $(".nav_links").css("visibility", "hidden");
            }, 100)
        });

        function openNav() {
            var $containerWidth = $(window).width();
            if ($containerWidth <= 818) {
                document.getElementById("mySidenav").style.width = "250px";
                document.getElementById("move_logo").style.marginLeft = "350px";
                document.getElementById("openbtn").style.marginLeft = "250px";
            } else {
                document.getElementById("mySidenav").style.width = "250px";
                document.getElementById("move_logo").style.marginLeft = "0px";
                document.getElementById("openbtn").style.marginLeft = "250px";
            };
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("move_logo").style.marginLeft = "0";
            document.getElementById("openbtn").style.marginLeft = "0";;
        }
    </script>
</body>

</html>
